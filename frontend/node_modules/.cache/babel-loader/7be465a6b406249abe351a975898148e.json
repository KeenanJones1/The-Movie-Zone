{"ast":null,"code":"import _slicedToArray from\"/Users/keenanjones/Desktop/Projects/YearOne/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/keenanjones/Desktop/Projects/YearOne/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from'react';import styled from'styled-components';import axios from'axios';import{colors}from'../utils/_var';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSearch,faTimes}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .movie-search{\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    width: 50vw;\\n    height: 3.5rem;\\n    padding: 0.5rem 1rem 0.5rem 1rem;\\n    background: darkcyan;\\n    border-radius: 1rem 1.5rem;\\n    box-sizing: border-box;\\n    #search-icon{\\n      font-size: 1.5rem;\\n      color: ghostwhite;\\n    }\\n    #input-label {\\n      display: none;\\n    }\\n    #search-input{\\n      width: 100%;\\n      height: 100%;\\n      font-size: 1.8rem;\\n      color: ghostwhite;\\n      padding-left: 1rem;\\n      background: darkcyan;\\n      border: none;\\n      outline: none;\\n      &::placeholder {\\n        color: ghostwhite;\\n        opacity: 0.7;\\n      }\\n    }\\n    #clear{\\n      cursor: pointer;\\n    }\\n  }\\n\\n  @media(max-width: 768px){\\n    .movie-search{\\n      width: 80vw;\\n    }\\n  }\\n \"])));var Search=function Search(_ref){var configMovies=_ref.configMovies;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];//  fetch movies from backend \nvar movieFetch=function movieFetch(data){var movieQueries=[];var uuid=localStorage.getItem('uuid');data.titles.map(function(query){return movieQueries.push(query.id);});var options={method:'GET',url:\"http://localhost:3000/movies/\",headers:{'Content-Type':'application/json'},params:{queries:movieQueries,uuid:uuid}};axios.request(options).then(function(resp){return(// sending both movies list to Home component to be combined\nconfigMovies(resp.data.movies,data.titles));}).catch(function(error){return console.log(error);});};// fetch movies from rapid-api\nvar handleForm=function handleForm(e){e.preventDefault();var options={method:'GET',url:\"\".concat(process.env.REACT_APP_API_BASE_URL,\"search/\").concat(title),headers:{'x-rapidapi-key':process.env.REACT_APP_RAPID_API_KEY,'x-rapidapi-host':process.env.REACT_APP_API_HOST}};axios.request(options).then(function(response){movieFetch(response.data);}).catch(function(error){console.error(error);});};console.log(title);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(event){return handleForm(event);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"movie-search\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch,id:\"search-icon\"}),/*#__PURE__*/_jsx(\"label\",{for:\"movie-search\",id:\"input-label\",children:\"Movie Search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search Movies\",name:\"movie-search\",id:\"search-input\",onChange:function onChange(event){return setTitle(event.target.value);},value:title}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes,id:\"clear\",onClick:function onClick(){return setTitle('');}})]})})});};export default Search;","map":{"version":3,"sources":["/Users/keenanjones/Desktop/Projects/YearOne/frontend/src/components/Search.js"],"names":["React","useState","styled","axios","colors","FontAwesomeIcon","faSearch","faTimes","Wrapper","div","Search","configMovies","title","setTitle","movieFetch","data","movieQueries","uuid","localStorage","getItem","titles","map","query","push","id","options","method","url","headers","params","queries","request","then","resp","movies","catch","error","console","log","handleForm","e","preventDefault","process","env","REACT_APP_API_BASE_URL","REACT_APP_RAPID_API_KEY","REACT_APP_API_HOST","response","event","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport styled from 'styled-components'\nimport axios from 'axios'\nimport {colors} from '../utils/_var'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSearch, faTimes} from '@fortawesome/free-solid-svg-icons'\n\n\n\n const Wrapper = styled.div`\n  .movie-search{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 50vw;\n    height: 3.5rem;\n    padding: 0.5rem 1rem 0.5rem 1rem;\n    background: darkcyan;\n    border-radius: 1rem 1.5rem;\n    box-sizing: border-box;\n    #search-icon{\n      font-size: 1.5rem;\n      color: ghostwhite;\n    }\n    #input-label {\n      display: none;\n    }\n    #search-input{\n      width: 100%;\n      height: 100%;\n      font-size: 1.8rem;\n      color: ghostwhite;\n      padding-left: 1rem;\n      background: darkcyan;\n      border: none;\n      outline: none;\n      &::placeholder {\n        color: ghostwhite;\n        opacity: 0.7;\n      }\n    }\n    #clear{\n      cursor: pointer;\n    }\n  }\n\n  @media(max-width: 768px){\n    .movie-search{\n      width: 80vw;\n    }\n  }\n `\n\nconst Search = ({configMovies}) => {\n const [title, setTitle] = useState('')\n\n\n//  fetch movies from backend \nconst movieFetch = (data) => {\n const movieQueries = []\n const uuid = localStorage.getItem('uuid')\n  data.titles.map( query => movieQueries.push(query.id))\n  const options = {\n   method: 'GET',\n   url: `http://localhost:3000/movies/`,\n   headers: {'Content-Type': 'application/json'},\n   params: {queries: movieQueries, uuid: uuid}\n  }\n\n  axios.request(options).then((resp) => \n    // sending both movies list to Home component to be combined\n    configMovies(resp.data.movies, data.titles)\n  ).catch((error) => console.log(error))\n}\n \n\n\n\n// fetch movies from rapid-api\n const handleForm = (e) => {\n  e.preventDefault()\n  const options = {\n   method: 'GET',\n   url: `${process.env.REACT_APP_API_BASE_URL}search/${title}`,\n   headers: {\n    'x-rapidapi-key': process.env.REACT_APP_RAPID_API_KEY,\n    'x-rapidapi-host': process.env.REACT_APP_API_HOST\n   }\n  }\n\n  axios.request(options).then(function (response) {\n   movieFetch(response.data)\n  }).catch(function (error) {\n   console.error(error);\n  });\n }\n\n\n console.log(title)\n\n\n\n\n return (\n  <Wrapper>\n   <form onSubmit={(event) => handleForm(event)}>\n      <div className=\"movie-search\">\n        <FontAwesomeIcon icon={faSearch} id='search-icon' />\n        <label for=\"movie-search\" id=\"input-label\">Movie Search</label>\n        <input type=\"text\" placeholder=\"Search Movies\" name='movie-search' id='search-input' onChange={(event) => setTitle(event.target.value)} value={title}/>\n        <FontAwesomeIcon icon={faTimes} id=\"clear\" onClick={() => setTitle('')}/>\n      </div>\n   </form>\n  </Wrapper>\n )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}